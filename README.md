# FPGA 系統設計實驗 (FPGA System Design Labs)
![a7b42584910b300ba879c5a5c16a3f14](https://github.com/user-attachments/assets/fa3c3bfa-e696-4325-9601-2fb02f139ac9)
本專案收錄了一系列基於 **Verilog HDL** 開發的 FPGA 系統設計與數位邏輯實驗。

所有實驗皆針對 **FPGA LP-2900** 實驗板進行設計與實作，並使用 **Quartus II 13.1 Web Edition** 完成程式碼撰寫、編譯、合成與硬體燒錄。

## 開發環境

* **硬體平台**: FPGA LP-2900 實驗板 (Altera Cyclone 系列)
* **開發軟體**: Quartus II 13.1 Web Edition
* **硬體描述語言**: Verilog HDL

---

## 📋 實驗清單與內容簡介

本專案包含以下 8 個循序漸進的實驗模組，涵蓋基礎 I/O 控制、顯示器多工掃描、狀態機 (FSM) 設計以及簡單的硬體遊戲實作：

### [Lab 01] 跑馬燈設計

* **目標**: 熟悉 Verilog 基礎語法與除頻器 (Frequency Divider) 的設計。
* **內容**: 實作基礎的 LED 跑馬燈，並在加分題中設計「向右(紅燈，快) / 向左(綠燈，慢)」雙向與雙速移位暫存器。

### [Lab 02] 七段顯示器的應用 (1)

* **目標**: 了解七段顯示器的解碼原理 (Decoder) 與多工掃描。
* **內容**: 實作 BCD 對七段顯示器解碼電路，並完成 `00` 到 `99` 的上數計數器。

### [Lab 03] 七段顯示器的應用 (2) - 24 小時制時間顯示器

* **目標**: 串接多個計數器完成實用的數位時鐘。
* **內容**: 設計 `00-59` 模組 (分/秒) 與 `00-23` 模組 (小時)，並將其整合為完整的 24 小時制時間顯示器。

### [Lab 04] 8x8 LED 矩陣的應用

* **目標**: 學習點矩陣的列掃描 (Row/Column Scanning) 原理。
* **內容**: 在 LED 矩陣上顯示靜態數字 `0-9`，並進階實作數字由下往上移動的動態顯示效果，支援切換黃、綠、紅三種顯示顏色。

### [Lab 05] 鍵盤輸入工具 (1)

* **目標**: 熟悉矩陣鍵盤的掃描與偵測原理。
* **內容**: 設計鍵盤偵測電路與緩衝區，將使用者輸入的數字 (`0-9`) 轉換成對應的 10 個獨立 LED 燈號輸出。

### [Lab 06] 鍵盤輸入工具 (2)

* **目標**: 整合鍵盤輸入與七段顯示器，並實作硬體防彈跳 (Debounce) 電路。
* **內容**: 將鍵盤輸入的數字依序顯示在六位數的七段顯示器上。當有新資料輸入時，舊資料會自動向左移位。

### [Lab 07] 紅綠燈控制電路

* **目標**: 學習有限狀態機 (FSM) 設計與多重條件控制。
* **內容**: 設計可切換日/夜模式的紅綠燈系統。
* **白天模式**: 按照設定秒數執行綠燈、綠燈閃爍、黃燈、紅燈的循環，並在七段顯示器同步倒數。
* **夜晚模式**: 切換為黃燈閃爍警示模式。



### [Lab 08] 碰撞小紅點 (迷宮遊戲)

* **目標**: 整合顯示器、按鍵控制與遊戲邏輯設計。
* **內容**: 在 8x8 LED 矩陣上設計迷宮地圖，使用者透過鍵盤控制小紅點 (上、下、左、右) 穿越迷宮，並加入防碰撞偵測邏輯。

---

## 如何使用 (How to Use)

1. **開啟專案**: 啟動 Quartus II 13.1 Web Edition，選擇 `File -> Open Project`，開啟對應 Lab 資料夾中的 `.qpf` (Quartus Project File) 檔案。
2. **頂層模組設定**: 確保當前欲測試的檔案（如 `clock_top.v` 或 `traffic_top.v`）已設定為 Top-Level Entity (`Ctrl + Shift + J`)。
3. **編譯 (Compile)**: 點擊 `Start Compilation` 進行編譯與合成，確認無 Error 發生。
4. **腳位配置 (Pin Planner)**: 若有新建專案，請參考實驗手冊或講義進行 Pin Assignment，確認 I/O 對應至 LP-2900 板上正確的 LED、七段顯示器或按鍵腳位。
5. **燒錄 (Program)**: 使用 USB Blaster 連接 LP-2900 實驗板，開啟 Programmer 視窗，將編譯生成的 `.sof` 檔案燒錄至 FPGA 中進行硬體驗證。

---

## 設計重點筆記

* **同步設計**: 所有的計數、狀態跳轉皆採用 Clock 正緣觸發 (`posedge clk`)。
* **防彈跳處理 (Debounce)**: 在按鍵輸入 (如 Lab 06, Lab 08) 模組中，必須透過防彈跳電路過濾雜訊，避免單次按壓被誤判為多次輸入。
* **除頻器 (Frequency Divider)**: 系統基礎頻率需透過 `freq_div.v` 進行除頻，以提供不同模組合適的時脈 (例如：人眼視覺暫留用的多工掃描高頻、跑馬燈或時鐘計數用的低頻)。
